# Лабораторная 2

## Замечание

Все операции производятся с яркостью пикселей, поэтому все результаты представлены исключительно в виде черно-белых картинок

## Поэлементные операции

Производятся по отдельности с каждым из пикселей. К поэлементным операциям относятся:

1. Сложение - $f(m, n) + χ\ (χ \neq 0)$
2. Негатив - $255 - f(m, n)$
3. Умножение - $f(m, n) * α\ (α \neq 1)$
4. Степень - $255 * \dfrac{f(m, n)}{f_{max}}^{γ}\ (γ \neq 1)$
5. Логарифм - $255 * \dfrac{log(1 + f(m, n))}{log (1 + f_{max})}$

Для демонстрации можно взять любую картинку

## Линейное контрастирование

Расширяет диапазон яркостей. Применяется к малоконтрастным изображениям.

- Идея: находится диапазон яркостей изображения $f_{min}$ и $f_{max}$, а потом по специальной формуле производится расчет для каждого пикселя
- Формула: $\dfrac{255}{f_{max} - f_{min}}(f(m, n) - f_{min})$ - для ситуации когда допустимы диапазон $[0, 255]$

Для демонстрации подойдет малоконтрастное (затуманенное) изображение

## Глобальная пороговая обработка

Бинаризует изображение. Основная задача обработки - отделить объект от фона на изображении. Реализованы 2 метода:

1. Ручной выбор порога. Позволяет вручную установить порог и выбрать оптимальный вариант
2. Алгоритм Оцу. Атоматический выбор оптимального порога. Плохо работает для изображений с градиентом и шумом

Как работает алгоритм Оцу:

1. Он сторит гистограмму изображения - коичество пикселей каждой яркости
2. Проходится по всем порогам - от 0 до 255
3. Считает количество пикселей ниже порога (условный фон), выше порога (условный объект), и среднюю яркость фона и объекта
4. Вычисляем межклассовую дисперсию $w_b * w_f * (μ_b - μ_f)^2$
5. Ищем порог с максимальной дисперсией - он будет оптимальным

## Выводы

В ходе лабораторной работы были изучены и реализованы методы предварительной обработки и сегментации изображений.

1. **Поэлементные операции** являются базовым инструментом для ручной коррекции изображений.

   - _Сложение и умножение_ эффективно используются для простой регулировки яркости и контраста.

   - _Нелинейные методы_ (логарифм, степенное преобразование) незаменимы, когда нужно «вытянуть» детали из теней или, наоборот, приглушить слишком яркие участки, изменяя динамический диапазон нелинейно.

2. **Линейное контрастирование** — это эффективный метод автоматического улучшения качества «блеклых», малоконтрастных изображений (например, сделанных в тумане или при плохом освещении). Алгоритм растягивает гистограмму на весь доступный диапазон [0, 255], делая изображение более четким и насыщенным.

3. **Глобальная пороговая обработка** необходима для задачи сегментации — отделения объекта интереса от фона (бинаризации).

   - _Метод Оцу_ является стандартом для автоматического поиска порога. Он идеально работает на изображениях с бимодальной гистограммой (где есть четкий пик фона и пик объекта).
   - _Недостатки метода Оцу:_ Алгоритм может давать некорректные результаты на изображениях с **неравномерным освещением** (градиентом), сильным шумом или когда объект занимает слишком малую площадь кадра. В таких случаях вычисленный глобальный порог не может корректно разделить классы по всему изображению сразу, и требуется либо ручная настройка, либо применение локальных методов.
